{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,qGCAzD,I,EAAAC,EAAAJ,EAAA,S,oDCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,S,iBDMhHC,EAAc,IAAI,EAAAC,EAAAC,SAClBC,EAAgBC,SAASC,cAAc,6BACvCC,EAAiBF,SAASC,cAAc,uBAKlC,SAAHE,IAKPJ,EAAcK,mBAAmB,cAJhB,8G,UAQJC,EAAiBC,G,OAAjBC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAAgCR,G,IAEpBS,E,2FAAeC,EAAAlB,QAAMmB,IAAI,GAA2BC,OAAxBC,EAAArB,QAAS,iBAAkBoB,OAAHZ,I,cAAtDS,EAAMK,EAAAC,KAAJN,K,kBACDA,EAAKO,OAAO,I,yFAHQd,MAAAC,KAAAC,U,UAehBa,I,OAAAA,EAAfZ,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAW,I,IAEUC,EAEAC,E,kFAFAD,EAAY7B,EAAY6B,U,SAEVE,QAAQC,IAC1BH,EAAUI,IAAG,W,MAAClB,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAAMR,G,kFACLD,EAAiBC,G,mGADZA,G,gCAAP,K,cADToB,EAAKI,EAAAT,KAKNzB,EAAY6B,WACftB,I,kBAEK4B,EAAkBL,I,yFAZdH,EAAef,MAAAC,KAAAC,U,CAkBrB,SAAAsB,EAAWC,GAClB,IAAMC,EAAaD,EAAME,OAAOC,QAAQ9B,GACxC,GAAsC,aAAlC2B,EAAME,OAAOC,QAAQC,SAWvB,OAVIzC,EAAY6B,UAAUa,SAASJ,IACnCtC,EAAY2C,eAAeL,GAC3BlC,SACCC,cAAc,aAAwBiB,OAAXgB,EAAW,OACtCM,QAAQ,6BACRC,cACoC,IAAjC7C,EAAY6B,UAAUiB,SACxBvC,IACAD,EAAeyC,oBAAoB,QAASX,I,CAOlD,SAASD,EAAkBhB,GACzB,IAAI6B,EAAO7B,EACRc,KAAI,SAAAgB,GACH,MAAO,qGAC4E3B,OAA5B2B,EAAKC,cAAc,WAErB5B,OAF8B2B,EAAKE,YAAY,iIAI7B7B,OAFlB2B,EAAKG,SAAS,+IAKxB9B,OAH4B2B,EAAKI,QAAQ,oJAMzD/B,OAHgB2B,EAAKI,QAAQ,wMAGvB/B,OAANzB,EAAM,iJ,IAQlCyD,KAAK,IAERnD,EAAcK,mBAAmB,YAAawC,E,CAxFhD1C,EAAeiD,iBAAiB,QAASnB,GACzCjC,EAAcoD,iBAAiB,QAASC,EAAAC,iBAqBH,IAAjCzD,EAAY6B,UAAUiB,SACxBvC,IACAD,EAAeyC,oBAAoB,QAASX,I,WAI/BT,EAAef,MAAAC,KAAAC,U,CAF9B4C,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-a3bd79bb2c91f679.js","src/js/favorites-coctails.js","node_modules/@parcel/runtime-js/lib/runtime-b60b0148e849c944.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1IsiK\\\":\\\"cocktails.12241015.js\\\",\\\"410VS\\\":\\\"icons.5e4a2d51.svg\\\"}\"));","import axios from 'axios';\nimport FavoritesList from './favorites-storage-class';\nimport BASE_URL from './base-url';\nimport * as icons from '../images/icons.svg';\nimport { openModalRecipe } from './modals/modal-recipe';\n\nconst storageData = new FavoritesList();\nconst listCocktails = document.querySelector('.favorite-cocktails__list');\nconst galeryFavorits = document.querySelector('.favorite-cocktails');\ngaleryFavorits.addEventListener('click', onBtnClick);\nlistCocktails.addEventListener('click', openModalRecipe);\n\n// Пустий список//\nfunction renderListCocktail() {\n  const message = `<p class=\"favorite-cocktails__text\">\n          You haven't added any favorite cocktails yet\n        </p>`;\n\n  listCocktails.insertAdjacentHTML('beforebegin', message);\n}\n\n//Запит API//\nasync function fetchDataCoctail(id) {\n  try {\n    const { data } = await axios.get(`${BASE_URL}lookup.php?i=${id}`);\n    return data.drinks[0];\n  } catch (error) {\n\n  }\n}\n//Перевірка на пустий localStorage//\nif (storageData.cocktails.length === 0) {\n  renderListCocktail();\n  galeryFavorits.removeEventListener('click', onBtnClick);\n}\napiForIdCoctail();\n//Запит по id на коктель//\nasync function apiForIdCoctail() {\n  try {\n    const cocktails = storageData.cocktails;\n\n    const coctl = await Promise.all(\n      cocktails.map(async id => {\n        return await fetchDataCoctail(id);\n      })\n    );\n    if (!storageData.cocktails) {\n      renderListCocktail();\n    }\n    return createCardCoctail(coctl);\n  } catch (error) {\n\n  }\n}\n//Видалити з localStorage//\nfunction onBtnClick(event) {\n  const cocktailId = event.target.dataset.id;\n  if (event.target.dataset.favorite === 'cocktail') {\n    if (storageData.cocktails.includes(cocktailId))\n    storageData.removeCocktail(cocktailId);\n    document\n    .querySelector(`[data-id='${cocktailId}']`)\n    .closest('.favorite-cocktails__item')\n    .remove();\n    if (storageData.cocktails.length === 0) {\n      renderListCocktail();\n      galeryFavorits.removeEventListener('click', onBtnClick);\n    }\n    return;\n  }\n}\n\n//Рендер картки//\nfunction createCardCoctail(data) {\n  let card = data\n    .map(item => {\n      return `<li class=\"favorite-cocktails__item\">\n            <img class=\"favorite-cocktails__item-img\" src=\"${item.strDrinkThumb}\" alt=\"${item.strCategory}\" />\n            <div class=\"favorite-cocktails__item-container\">\n              <h2 class=\"favorite-cocktails__item-title\">${item.strDrink}</h2>\n              <div class=\"favorite-button-container\">\n                <button type=\"button\" data-type='open-learn-more' data-id=\"${item.idDrink}\" class=\"favorite-button__learn-more\">\n                  Learn more\n                </button>\n                <button type=\"button\" data-id=\"${item.idDrink}\" data-favorite=\"cocktail\" class=\"favorite-button__remove\">\n                  Remove\n                  <svg class=\"favorite-button__icon\" width=\"17\" height=\"15\">\n                    <use href=\"${icons}#icon-full-heart\"></use>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </li>\n    `;\n    })\n    .join('');\n\n  listCocktails.insertAdjacentHTML('beforeend', card);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('1IsiK') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$af1934d0b902f648$exports","getBundleURL","resolve","$5bd7a8d8e8cbfc76$var$storageData","$fqZse","default","$5bd7a8d8e8cbfc76$var$listCocktails","document","querySelector","$5bd7a8d8e8cbfc76$var$galeryFavorits","$5bd7a8d8e8cbfc76$var$renderListCocktail","insertAdjacentHTML","$5bd7a8d8e8cbfc76$var$fetchDataCoctail","id","$5bd7a8d8e8cbfc76$var$_fetchDataCoctail","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$dIxxU","get","concat","$5RN7g","_ctx","sent","drinks","$5bd7a8d8e8cbfc76$var$_apiForIdCoctail","_callee1","cocktails","coctl","Promise","all","map","_ctx1","$5bd7a8d8e8cbfc76$var$createCardCoctail","$5bd7a8d8e8cbfc76$var$onBtnClick","event","cocktailId","target","dataset","favorite","includes","removeCocktail","closest","remove","length","removeEventListener","card","item","strDrinkThumb","strCategory","strDrink","idDrink","join","addEventListener","$8jgXc","openModalRecipe","$5bd7a8d8e8cbfc76$var$apiForIdCoctail"],"version":3,"file":"cocktails.12241015.js.map"}