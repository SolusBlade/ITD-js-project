{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,+DAKA,IAAMC,EAAc,IAAI,EAAAC,EAAAC,SACxBC,QAAQC,IAAIJ,EAAYK,aACxB,IAAMC,EAAiBC,SAASC,cAAc,+BAIlC,SAAHC,IAKPH,EAAeI,mBAAmB,cAJjB,kH,UAQJC,EAAiBC,G,OAAjBC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAAgCR,G,IAEpBS,E,2FAAeC,EAAApB,QAAMqB,IAAI,GAA2BC,OAAxBC,EAAAvB,QAAS,iBAAkBsB,OAAHZ,I,cAAtDS,EAAMK,EAAAC,KAAJN,K,kBACDA,EAAKO,OAAO,I,gCAEnBzB,QAAQC,IAAGsB,EAAAG,I,0DALgBf,MAAAC,KAAAC,U,CASd,GAAsB,IAAnChB,EAAYK,YAAYyB,OAC1B,OAAOrB,I,SAIMsB,I,OAAAA,EAAfd,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAa,I,IAEU3B,EAEA4B,E,kFAFA5B,EAAcL,EAAYK,Y,SAEP6B,QAAQC,IAC/B9B,EAAY+B,IAAG,W,MAACnB,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAAMR,G,kFACPD,EAAiBC,G,mGADVA,G,gCAAP,K,cADXqB,EAAUI,EAAAV,KAKX3B,EAAYK,aACfiC,qB,kBAEKC,EAAqBN,I,gCAE5B9B,QAAQC,IAAGiC,EAAAR,I,yDAdAE,EAAkBjB,MAAAC,KAAAC,U,CAkBxB,SAAAwB,EAAWC,GAClB,IAAMC,EAAeD,EAAME,OAAOC,QAAQhC,GACtCZ,EAAYK,YAAYwC,SAASH,GACnC1C,EAAY8C,iBAAiBC,YACnB/C,EAAYK,aACtBI,G,CAMJ,SAAS8B,EAAqBlB,GAC5B,IAAI2B,EAAO3B,EACRe,KAAI,SAAAa,GACH,MAAO,qGAC4DzB,OAAdyB,EAAKC,SAAS,6kB,IAgBpEC,KAAK,IACR7C,EAAeI,mBAAmB,YAAasC,GACvBzC,SAASC,cAAc,uBAC/B4C,iBAAiB,QAASZ,E,aApD7BT,EAAkBjB,MAAAC,KAAAC,U,CAFjCqC,E,sCChCAC,EAAAC,QAAiBxD,EAAA,SAAAyD,aAA6C,SAAWzD,EAAA,SAAA0D,QAA6C,Q,ICAtH1D,EAAA,SAAA2D,SAA8CC,KAAKC,MAAM,uG","sources":["src/js/favoritIngredients.js","node_modules/@parcel/runtime-js/lib/runtime-e4ab09968196bbc3.js","node_modules/@parcel/runtime-js/lib/runtime-65effd8aecbfb392.js"],"sourcesContent":["import axios from 'axios';\nimport FavoritesList from './favorites-storage-class';\nimport BASE_URL from './base-url';\nimport * as icons from '../images/icons.svg';\n\nconst storageData = new FavoritesList();\nconsole.log(storageData.ingredients);\nconst listIngridient = document.querySelector('.favorite-ingredients__list');\n\n// Пустий список//\n\nfunction renderListIngredient() {\n  const message = `  <p class=\"favorite-ingredients__text\">\n          You haven't added any favorite ingridients yet\n      </p>`;\n\n  listIngridient.insertAdjacentHTML('beforebegin', message);\n}\n\n//Запит API//\nasync function fetchDataCoctail(id) {\n  try {\n    const { data } = await axios.get(`${BASE_URL}lookup.php?i=${id}`);\n    return data.drinks[0];\n  } catch (error) {\n    console.log(error);\n  }\n}\n//Перевірка на пустий localStorage//\nif (storageData.ingredients.length === 0) {\n  return renderListIngredient();\n}\napiForIdIngredient();\n//Запит по id на коктель//\nasync function apiForIdIngredient() {\n  try {\n    const ingredients = storageData.ingredients;\n\n    const ingredient = await Promise.all(\n      ingredients.map(async id => {\n        return await fetchDataCoctail(id);\n      })\n    );\n    if (!storageData.ingredients) {\n      renderListCocktail();\n    }\n    return createCardIngridient(ingredient);\n  } catch (error) {\n    console.log(error);\n  }\n}\n//Видалити з localStorage//\nfunction onBtnClick(event) {\n  const ingredientId = event.target.dataset.id;\n  if (storageData.ingredients.includes(ingredientId)) {\n    storageData.removeIngredient(cocktailId);\n  } else if (!storageData.ingredients) {\n    renderListIngredient();\n  }\n  return;\n}\n//Рендер картки//\n\nfunction createCardIngridient(data) {\n  let card = data\n    .map(item => {\n      return `<li class=\"favorite-ingredients__item\">\n            <h2 class=\"favorite-ingredients__item-title\">${item.strDrink}</h2>\n            <p class=\"favorite-ingredients__item-text\">Liqueur</p>\n            <div class=\"favorite-button-container\">\n              <button type=\"button\" class=\"favorite-button__learn-more\">\n                Learn more\n              </button>\n              <button type=\"button\" class=\"favorite-button__remove\">\n                Remove\n                <svg class=\"favorite-button__icon\" width=\"17\" height=\"15\">\n                  <use href=\"./images/icons.svg#icon-full-heart\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>\n  `;\n    })\n    .join('');\n  listIngridient.insertAdjacentHTML('beforeend', card);\n  const galleryFavorits = document.querySelector('.favorite-cocktails');\n  galleryFavorits.addEventListener('click', onBtnClick);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('chZEx') + require('./helpers/bundle-manifest').resolve(\"410VS\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"chZEx\\\":\\\"ingredients.e7af80d6.js\\\",\\\"410VS\\\":\\\"icons.5e4a2d51.svg\\\"}\"));"],"names":["$bpxeT","parcelRequire","storageData","$fqZse","default","console","log","ingredients","listIngridient","document","querySelector","renderListIngredient","insertAdjacentHTML","fetchDataCoctail","id","_fetchDataCoctail","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$dIxxU","get","concat","$5RN7g","_ctx","sent","drinks","t0","length","_apiForIdIngredient","_callee1","ingredient","Promise","all","map","_ctx1","renderListCocktail","createCardIngridient","onBtnClick","event","ingredientId","target","dataset","includes","removeIngredient","cocktailId","card","item","strDrink","join","addEventListener","apiForIdIngredient","module","exports","getBundleURL","resolve","register","JSON","parse"],"version":3,"file":"ingredients.e7af80d6.js.map"}