{"mappings":"oeAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,qGCAzD,I,EAAAC,EAAAJ,EAAA,S,0BCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,iBDM5F,MAAMC,EAAc,IAAI,EAAAC,EAAAC,SAClBC,EAAgBC,SAASC,cAAc,6BACvCC,EAAiBF,SAASC,cAAc,uBAC9CC,EAAeC,iBAAiB,QAASC,GAM7B,SAAHC,IAKPN,EAAcO,mBAAmB,cAJjB,8G,CAyCT,SAAAF,EAAWG,GAClB,MAAMC,EAAaD,EAAME,OAAOC,QAAQC,GACpCf,EAAYgB,UAAUC,SAASL,IACjCZ,EAAYkB,eAAeN,GAC7BR,SACGC,cAAc,aAAaO,OAC3BO,QAAQ,6BACRC,SACkC,IAAjCpB,EAAYgB,UAAUK,SACxBZ,IACAH,EAAegB,oBAAoB,QAASd,G,CAzD7BJ,SAASC,cAAc,6BAC/BE,iBAAiB,QAASgB,EAAAC,iBAsBA,IAAjCxB,EAAYgB,UAAUK,SACxBZ,IACAH,EAAegB,oBAAoB,QAASd,IAI9BiB,iBACd,IACE,MAAMT,EAAYhB,EAAYgB,UAExBU,QAAcC,QAAQC,IAC1BZ,EAAUa,KAAIJ,MAAMV,SApBrBU,eAA2BV,GAC9B,IACE,MAAMe,KAAEA,SAAetC,EAAAU,QAAM6B,IAAI,GAAGC,EAAA9B,uBAAwBa,KAC5D,OAAOe,EAAKG,OAAO,E,CACnB,MAAOC,GACPC,QAAQC,IAAIF,E,EAgBKG,CAAiBtB,MAG7Bf,EAAYgB,WACfP,IAyBN,SAA2BqB,GACzB,IAAIQ,EAAOR,EACRD,KAAIU,GACI,qGACgDA,EAAKC,uBAAuBD,EAAKE,2IAEnCF,EAAKG,oJAEaH,EAAKI,0JAGjCJ,EAAKI,qLAGrBlD,oJAQ5BmD,KAAK,IAERzC,EAAcO,mBAAmB,YAAa4B,E,CA/CrCO,CAAkBnB,E,CACzB,MAAOQ,GACPC,QAAQC,IAAIF,E,EAhBhBY","sources":["node_modules/@parcel/runtime-js/lib/runtime-f928abe9d18c4ba1.js","src/js/favoritesCoctails.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4oCjL\\\":\\\"cocktails.128fc247.js\\\",\\\"8OQ7p\\\":\\\"icons.5e4a2d51.svg\\\"}\"));","import axios from 'axios';\nimport FavoritesList from './favorites-storage-class';\nimport BASE_URL from './base-url';\nimport * as icons from '../images/icons.svg';\nimport { openModalRecipe } from '../js/modals/modal-recipe';\n\nconst storageData = new FavoritesList();\nconst listCocktails = document.querySelector('.favorite-cocktails__list');\nconst galeryFavorits = document.querySelector('.favorite-cocktails');\ngaleryFavorits.addEventListener('click', onBtnClick);\nconst buttonOpen = document.querySelector('.favorite-cocktails__list');\nbuttonOpen.addEventListener('click', openModalRecipe);\n\n// Пустий список//\n\nfunction renderListCocktail() {\n  const message = `<p class=\"favorite-cocktails__text\">\n          You haven't added any favorite cocktails yet\n        </p>`;\n\n  listCocktails.insertAdjacentHTML('beforebegin', message);\n}\n\n//Запит API//\nasync function fetchDataCoctail(id) {\n  try {\n    const { data } = await axios.get(`${BASE_URL}lookup.php?i=${id}`);\n    return data.drinks[0];\n  } catch (error) {\n    console.log(error);\n  }\n}\n//Перевірка на пустий localStorage//\nif (storageData.cocktails.length === 0) {\n  renderListCocktail();\n  galeryFavorits.removeEventListener('click', onBtnClick);\n}\napiForIdCoctail();\n//Запит по id на коктель//\nasync function apiForIdCoctail() {\n  try {\n    const cocktails = storageData.cocktails;\n\n    const coctl = await Promise.all(\n      cocktails.map(async id => {\n        return await fetchDataCoctail(id);\n      })\n    );\n    if (!storageData.cocktails) {\n      renderListCocktail();\n    }\n    return createCardCoctail(coctl);\n  } catch (error) {\n    console.log(error);\n  }\n}\n//Видалити з localStorage//\nfunction onBtnClick(event) {\n  const cocktailId = event.target.dataset.id;\n  if (storageData.cocktails.includes(cocktailId))\n    storageData.removeCocktail(cocktailId);\n  document\n    .querySelector(`[data-id='${cocktailId}']`)\n    .closest('.favorite-cocktails__item')\n    .remove();\n  if (storageData.cocktails.length === 0) {\n    renderListCocktail();\n    galeryFavorits.removeEventListener('click', onBtnClick);\n  }\n  return;\n}\n// renderListCocktail();\n\n//Рендер картки//\nfunction createCardCoctail(data) {\n  let card = data\n    .map(item => {\n      return `<li class=\"favorite-cocktails__item\">\n            <img class=\"favorite-cocktails__item-img\" src=\"${item.strDrinkThumb}\" alt=\"${item.strCategory}\" />\n            <div class=\"favorite-cocktails__item-container\">\n              <h2 class=\"favorite-cocktails__item-title\">${item.strDrink}</h2>\n              <div class=\"favorite-button-container\">\n                <button type=\"button\" data-type=\"open-learn-more\" data-id=\"${item.idDrink}\" class=\"favorite-button__learn-more\">\n                  Learn more\n                </button>\n                <button type=\"button\" data-id=\"${item.idDrink}\" class=\"favorite-button__remove\">\n                  Remove\n                  <svg class=\"favorite-button__icon\" width=\"17\" height=\"15\">\n                    <use href=\"${icons}#icon-full-heart\"></use>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </li>\n    `;\n    })\n    .join('');\n\n  listCocktails.insertAdjacentHTML('beforeend', card);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$2shzp","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$77b85cea0266f77a$var$storageData","$5yGqQ","default","$77b85cea0266f77a$var$listCocktails","document","querySelector","$77b85cea0266f77a$var$galeryFavorits","addEventListener","$77b85cea0266f77a$var$onBtnClick","$77b85cea0266f77a$var$renderListCocktail","insertAdjacentHTML","event","cocktailId","target","dataset","id","cocktails","includes","removeCocktail","closest","remove","length","removeEventListener","$9D0Ms","openModalRecipe","async","coctl","Promise","all","map","data","get","$FBrWo","drinks","error","console","log","$77b85cea0266f77a$var$fetchDataCoctail","card","item","strDrinkThumb","strCategory","strDrink","idDrink","join","$77b85cea0266f77a$var$createCardCoctail","$77b85cea0266f77a$var$apiForIdCoctail"],"version":3,"file":"cocktails.128fc247.js.map"}