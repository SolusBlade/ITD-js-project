{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,8EAMMC,EAAc,IAAI,EAAAC,EAAAC,SAElBC,EAAiBC,SAASC,cAAc,+BACxCC,EAAqBF,SAASC,cAAc,yBAMtC,SAAHE,IAKPJ,EAAeK,mBAAmB,cAJjB,kH,UAQJC,EAAiBC,G,OAAjBC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAjB,EAAA,CAAAiB,EAAAC,GAAAC,MAAA,SAAAC,EAAgCR,G,IAEpBS,E,2FAAeC,EAAAlB,QAAMmB,IAAI,GAA6BC,OAA1BC,EAAArB,QAAS,mBAAoBoB,OAAHZ,I,cAAxDS,EAAMK,EAAAC,KAAJN,K,kBACDA,EAAKO,YAAY,I,yFAHGd,MAAAC,KAAAC,U,CASd,GAvBjBR,EAAmBqB,iBAAiB,SA8C3B,SAAAC,EAAWC,GAClB,IAAMC,EAAeD,EAAME,OAAOC,QAAQtB,GAC1C,GAAsC,eAAlCmB,EAAME,OAAOC,QAAQC,UACnBjC,EAAY0B,YAAYQ,SAASJ,GAUnC,OATA9B,EAAYmC,iBAAiBL,GAC7B1B,SACGC,cAAc,eAA4BiB,OAAbQ,EAAa,OAC1CM,QAAQ,+BACRC,cACoC,IAAnCrC,EAAY0B,YAAYY,SAC1B/B,IACAD,EAAmBiC,oBAAoB,QAASX,I,IAxDxDzB,EAAewB,iBAAiB,QAASa,EAAAC,qBAsBF,IAAnCzC,EAAY0B,YAAYY,OAC1B,OAAO/B,I,SAIMmC,I,OAAAA,EAAf3B,EAAAjB,EAAA,CAAAiB,EAAAC,GAAAC,MAAA,SAAA0B,I,IAEUjB,EAEAkB,E,kFAFAlB,EAAc1B,EAAY0B,Y,SAEPmB,QAAQC,IAC/BpB,EAAYqB,IAAG,W,MAAChC,EAAAjB,EAAA,CAAAiB,EAAAC,GAAAC,MAAA,SAAAC,EAAMR,G,kFACPD,EAAiBC,G,mGADVA,G,gCAAP,K,cADXkC,EAAUI,EAAAvB,KAKXzB,EAAY0B,aACfuB,qB,kBAEKC,EAAqBN,I,yFAZjBF,EAAkB9B,MAAAC,KAAAC,U,CAsCjC,SAASoC,EAAqB/B,GAC5B,IAAIgC,EAAOhC,EACR4B,KAAI,SAAAK,GACH,MAAO,qGAE4C9B,OADE8B,EAAKC,cAAc,kEAGA/B,OAFrB8B,EAAKE,QAAQ,2IAKvBhC,OAH+B8B,EAAKC,cAAc,8IAMlE/B,OAHgB8B,EAAKG,aAAa,oMAG5BjC,OAANkC,EAAM,qH,IAOhCC,KAAK,IACRtD,EAAeK,mBAAmB,YAAa2C,E,aA3DlCT,EAAkB9B,MAAAC,KAAAC,U,CAFjC4C,E,sCCpCAC,EAAAC,QAAiB7D,EAAA,SAAA8D,aAA6C,SAAW9D,EAAA,SAAA+D,QAA6C,Q,ICAtH/D,EAAA,SAAAgE,SAA8CC,KAAKC,MAAM,uG","sources":["src/js/favoritIngredients.js","node_modules/@parcel/runtime-js/lib/runtime-e4ab09968196bbc3.js","node_modules/@parcel/runtime-js/lib/runtime-65effd8aecbfb392.js"],"sourcesContent":["import axios from 'axios';\nimport FavoritesList from './favorites-storage-class';\nimport BASE_URL from './base-url';\nimport * as icons from '../images/icons.svg';\nimport { openModalIngredient } from '../js/modals/modal-ingredient';\n\nconst storageData = new FavoritesList();\n\nconst listIngridient = document.querySelector('.favorite-ingredients__list');\nconst galleryFavoritsIng = document.querySelector('.favorite-ingredients');\ngalleryFavoritsIng.addEventListener('click', onBtnClick);\nlistIngridient.addEventListener('click', openModalIngredient);\n\n// Пустий список//\n\nfunction renderListIngredient() {\n  const message = `  <p class=\"favorite-ingredients__text\">\n          You haven't added any favorite ingridients yet\n      </p>`;\n\n  listIngridient.insertAdjacentHTML('beforebegin', message);\n}\n\n//Запит API//\nasync function fetchDataCoctail(id) {\n  try {\n    const { data } = await axios.get(`${BASE_URL}lookup.php?iid=${id}`);\n    return data.ingredients[0];\n  } catch (error) {\n\n  }\n}\n//Перевірка на пустий localStorage//\nif (storageData.ingredients.length === 0) {\n  return renderListIngredient();\n}\napiForIdIngredient();\n//Запит по id на коктель//\nasync function apiForIdIngredient() {\n  try {\n    const ingredients = storageData.ingredients;\n\n    const ingredient = await Promise.all(\n      ingredients.map(async id => {\n        return await fetchDataCoctail(id);\n      })\n    );\n    if (!storageData.ingredients) {\n      renderListCocktail();\n    }\n    return createCardIngridient(ingredient);\n  } catch (error) {\n\n  }\n}\n//Видалити з localStorage//\nfunction onBtnClick(event) {\n  const ingredientId = event.target.dataset.id;\n  if (event.target.dataset.favorite === 'ingredient') {\n    if (storageData.ingredients.includes(ingredientId)) {\n      storageData.removeIngredient(ingredientId);\n      document\n        .querySelector(`[data-id = '${ingredientId}']`)\n        .closest('.favorite-ingredients__item')\n        .remove();\n      if (storageData.ingredients.length === 0) {\n        renderListIngredient();\n        galleryFavoritsIng.removeEventListener('click', onBtnClick);\n      }\n      return;\n    }\n  }\n  \n}\n//Рендер картки//\n\nfunction createCardIngridient(data) {\n  let card = data\n    .map(item => {\n      return `<li class=\"favorite-ingredients__item\">\n            <h2 class=\"favorite-ingredients__item-title\">${item.strIngredient}</h2>\n            <p class=\"favorite-ingredients__item-text\">${item.strType}</p>\n            <div class=\"favorite-button-container\">\n              <button type=\"button\"  data-type=\"open-ingredient\" data-name=\"${item.strIngredient}\" class=\"favorite-button__learn-more\">\n                Learn more\n              </button>\n              <button type=\"button\" data-id=\"${item.idIngredient}\" data-favorite=\"ingredient\" class=\"favorite-button__remove\">\n                Remove\n                <svg class=\"favorite-button__icon\" width=\"17\" height=\"15\">\n                  <use href=\"${icons}#icon-full-heart\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>\n  `;\n    })\n    .join('');\n  listIngridient.insertAdjacentHTML('beforeend', card);\n}\n\nexport { renderListIngredient };\n","module.exports = require('./helpers/bundle-url').getBundleURL('chZEx') + require('./helpers/bundle-manifest').resolve(\"410VS\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"chZEx\\\":\\\"ingredients.da5b5b59.js\\\",\\\"410VS\\\":\\\"icons.5e4a2d51.svg\\\"}\"));"],"names":["$bpxeT","parcelRequire","storageData","$fqZse","default","listIngridient","document","querySelector","galleryFavoritsIng","renderListIngredient","insertAdjacentHTML","fetchDataCoctail","id","_fetchDataCoctail","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","$dIxxU","get","concat","$5RN7g","_ctx","sent","ingredients","addEventListener","onBtnClick","event","ingredientId","target","dataset","favorite","includes","removeIngredient","closest","remove","length","removeEventListener","$393j5","openModalIngredient","_apiForIdIngredient","_callee1","ingredient","Promise","all","map","_ctx1","renderListCocktail","createCardIngridient","card","item","strIngredient","strType","idIngredient","$4TybG","join","apiForIdIngredient","module","exports","getBundleURL","resolve","register","JSON","parse"],"version":3,"file":"ingredients.da5b5b59.js.map"}